{"filter":false,"title":"projects_controller.rb","tooltip":"/app/controllers/projects_controller.rb","undoManager":{"mark":58,"position":58,"stack":[[{"start":{"row":136,"column":134},"end":{"row":136,"column":135},"action":"insert","lines":[","],"id":1667}],[{"start":{"row":136,"column":135},"end":{"row":136,"column":136},"action":"insert","lines":[" "],"id":1668}],[{"start":{"row":136,"column":136},"end":{"row":136,"column":137},"action":"insert","lines":[":"],"id":1669}],[{"start":{"row":136,"column":137},"end":{"row":136,"column":138},"action":"insert","lines":["e"],"id":1670}],[{"start":{"row":136,"column":138},"end":{"row":136,"column":139},"action":"insert","lines":["n"],"id":1671}],[{"start":{"row":136,"column":139},"end":{"row":136,"column":140},"action":"insert","lines":["d"],"id":1672}],[{"start":{"row":136,"column":140},"end":{"row":136,"column":141},"action":"insert","lines":["_"],"id":1673}],[{"start":{"row":136,"column":141},"end":{"row":136,"column":142},"action":"insert","lines":["d"],"id":1674}],[{"start":{"row":136,"column":142},"end":{"row":136,"column":143},"action":"insert","lines":["a"],"id":1675}],[{"start":{"row":136,"column":143},"end":{"row":136,"column":144},"action":"insert","lines":["t"],"id":1676}],[{"start":{"row":136,"column":144},"end":{"row":136,"column":145},"action":"insert","lines":["e"],"id":1677}],[{"start":{"row":63,"column":98},"end":{"row":64,"column":0},"action":"insert","lines":["",""],"id":1678},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":64,"column":4},"end":{"row":64,"column":5},"action":"insert","lines":["@"],"id":1679}],[{"start":{"row":64,"column":5},"end":{"row":64,"column":6},"action":"insert","lines":["p"],"id":1680}],[{"start":{"row":64,"column":6},"end":{"row":64,"column":7},"action":"insert","lines":["r"],"id":1681}],[{"start":{"row":64,"column":7},"end":{"row":64,"column":8},"action":"insert","lines":["o"],"id":1682}],[{"start":{"row":64,"column":8},"end":{"row":64,"column":9},"action":"insert","lines":["j"],"id":1683}],[{"start":{"row":64,"column":9},"end":{"row":64,"column":10},"action":"insert","lines":["e"],"id":1684}],[{"start":{"row":64,"column":10},"end":{"row":64,"column":11},"action":"insert","lines":["e"],"id":1685}],[{"start":{"row":64,"column":11},"end":{"row":64,"column":12},"action":"insert","lines":["c"],"id":1686}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"insert","lines":["t"],"id":1687}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"remove","lines":["t"],"id":1688}],[{"start":{"row":64,"column":11},"end":{"row":64,"column":12},"action":"remove","lines":["c"],"id":1689}],[{"start":{"row":64,"column":11},"end":{"row":64,"column":12},"action":"insert","lines":["t"],"id":1690}],[{"start":{"row":64,"column":11},"end":{"row":64,"column":12},"action":"remove","lines":["t"],"id":1691}],[{"start":{"row":64,"column":10},"end":{"row":64,"column":11},"action":"remove","lines":["e"],"id":1692}],[{"start":{"row":64,"column":10},"end":{"row":64,"column":11},"action":"insert","lines":["c"],"id":1693}],[{"start":{"row":64,"column":11},"end":{"row":64,"column":12},"action":"insert","lines":["t"],"id":1694}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"insert","lines":["_"],"id":1695}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"remove","lines":["_"],"id":1696}],[{"start":{"row":64,"column":12},"end":{"row":64,"column":13},"action":"insert","lines":["."],"id":1697}],[{"start":{"row":64,"column":13},"end":{"row":64,"column":14},"action":"insert","lines":["d"],"id":1698}],[{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"insert","lines":["a"],"id":1699}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"insert","lines":["t"],"id":1700}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"insert","lines":["e"],"id":1701}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"insert","lines":["_"],"id":1702}],[{"start":{"row":64,"column":18},"end":{"row":64,"column":19},"action":"insert","lines":["e"],"id":1703}],[{"start":{"row":64,"column":19},"end":{"row":64,"column":20},"action":"insert","lines":["n"],"id":1704}],[{"start":{"row":64,"column":20},"end":{"row":64,"column":21},"action":"insert","lines":["d"],"id":1705}],[{"start":{"row":64,"column":21},"end":{"row":64,"column":22},"action":"insert","lines":[" "],"id":1706}],[{"start":{"row":64,"column":22},"end":{"row":64,"column":23},"action":"insert","lines":["="],"id":1707}],[{"start":{"row":64,"column":21},"end":{"row":64,"column":22},"action":"insert","lines":["_"],"id":1708}],[{"start":{"row":64,"column":22},"end":{"row":64,"column":23},"action":"insert","lines":["d"],"id":1709}],[{"start":{"row":64,"column":23},"end":{"row":64,"column":24},"action":"insert","lines":["a"],"id":1710}],[{"start":{"row":64,"column":24},"end":{"row":64,"column":25},"action":"insert","lines":["t"],"id":1711}],[{"start":{"row":64,"column":25},"end":{"row":64,"column":26},"action":"insert","lines":["e"],"id":1712}],[{"start":{"row":64,"column":17},"end":{"row":64,"column":18},"action":"remove","lines":["_"],"id":1713}],[{"start":{"row":64,"column":16},"end":{"row":64,"column":17},"action":"remove","lines":["e"],"id":1714}],[{"start":{"row":64,"column":15},"end":{"row":64,"column":16},"action":"remove","lines":["t"],"id":1715}],[{"start":{"row":64,"column":14},"end":{"row":64,"column":15},"action":"remove","lines":["a"],"id":1716}],[{"start":{"row":64,"column":13},"end":{"row":64,"column":14},"action":"remove","lines":["d"],"id":1717}],[{"start":{"row":64,"column":23},"end":{"row":64,"column":24},"action":"insert","lines":[" "],"id":1718}],[{"start":{"row":64,"column":24},"end":{"row":64,"column":64},"action":"insert","lines":["self.start_date + (self.duration).months"],"id":1719}],[{"start":{"row":64,"column":24},"end":{"row":64,"column":28},"action":"remove","lines":["self"],"id":1720},{"start":{"row":64,"column":24},"end":{"row":64,"column":32},"action":"insert","lines":["@project"]}],[{"start":{"row":64,"column":47},"end":{"row":64,"column":51},"action":"remove","lines":["self"],"id":1721},{"start":{"row":64,"column":47},"end":{"row":64,"column":55},"action":"insert","lines":["@project"]}],[{"start":{"row":83,"column":98},"end":{"row":84,"column":0},"action":"insert","lines":["",""],"id":1722},{"start":{"row":84,"column":0},"end":{"row":84,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":84,"column":4},"end":{"row":84,"column":72},"action":"insert","lines":["@project.end_date = @project.start_date + (@project.duration).months"],"id":1723}],[{"start":{"row":116,"column":0},"end":{"row":123,"column":6},"action":"remove","lines":["  def self.calculate_installments","    byebug","    #vai buscar a data","    @projects = Projects.where(\"status=\" + Project.statuses[:open].to_s + \"AND star_date<\" + @current_month + \"AND end_date>\" + @current_date)","    #vai buscar todos os projecto vivos à data","    #percorre todos os projecto","    #   para cada um, insere um registo de na tabela das prestações ","  end "],"id":1726}],[{"start":{"row":115,"column":0},"end":{"row":116,"column":0},"action":"remove","lines":["",""],"id":1727}]]},"ace":{"folds":[],"scrolltop":1571,"scrollleft":0,"selection":{"start":{"row":115,"column":0},"end":{"row":115,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":111,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1452818284666,"hash":"9b1d2c1f45aeea87fec4a94d16ad7c4e4737a53f"}